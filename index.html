<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>やりたいことリスト</title>
    <script src="js/jquery-2.1.3.min.js"></script>
    <link rel="stylesheet" href="css/sample.css">
</head>

<body>

    <header>
        <h1>やりたいことリスト</h1>
    </header>

    <main style="display: none;">
         <textarea id="text_area"></textarea>
         <div class="todo-list">
            <div class="add-item-area">
                <input type="text" class="add-item">
                <button class="add-button" aria-placeholder="入力してください">ADD</button>
            </div> 
        </div>
        <div class="item-area-incomplete">
            <p class="ttl">TODOリスト</p>
            <ul>   
            </ul>
        </div>
        <div class="item-area-complete">
        <p class="ttl">完了</p>
        <ul>
        </ul>
    </div>
    </main>

    <footer><small>G's</small></footer>
    <script>
        // クラス
        class TodoList{
            // コンストラクタ
            constructor(){
                this.DOM = {};
                this.DOM.incomplete =
                document.querySelector(".item-area-incomplete ul");
                this.DOM.complete =
                document.querySelector(".item-area-complete ul");
                
            }
            // リスト作成
            _createItem(text){
                const liElm = document.creareElement('li');
                const pElm = document.creareElement('p');
                const deleteButton = document.creareElement('button');
                const completeButton = document.createElement('button');

                completeleteButton.classList.add('complete-button');
                completeleteButton.innerText = '完了';
                deleteButton.classList.add('incomplete-button');
                deleteButton.innerText = '削除';
                pElm.innerText = text;

            // 完了ボタンクリック
            completeButton.addEventListener('click', (e) => {
                this.deleteItem(e.srcElement.parenNode, this.DOM.incomplete);
                this.addCompleteItem(text);
            });
            // 削除ボタンクリック
            deleteButton.addEventListener('click', (e) => {
                const confirmation = confirm("タスクを削除してもいいです？");
                if(confirmation){
                    this.deleteItem(e.srcElement.parentNode,
                    this.DOM.incomplete);
                }
            });
            // 生成した要素
            liElm.appendChild(pElm);

            liElm.appendChild(completeButton);
            liElm.appendChild(deleteButton);

            return liElm;
        }
        // 完了に追加
        _completeItem(text){
            const liElm = document.createElement('li');
            const pElm = document.createElement('p');
            const backButton = document.createElement('button');

            backNutton.classList.add('complete_button');
            backButton.innerText = '戻る';
            pElm.innerText = text;
            // 戻るボタンクリック

            backButton.addEventListener('click', (e) => {
                this.deleteItem(e.srcElement.parenNode, this.DOM.complete);
                this.addItem(text);
            });
            liElm.appendChild(pElm);
            liElm.appendChild(backButton);

            return liElm;
        }
        // リスト追加
        addItem(text){
            this.DOM.incomplete.appendChild(this._createItem(text));
        }
        // 完了に追加
        addCompleteItem(text){
            this.DOM.complete.appendChild(this._completeItem(text));
        }
        // リストを削除
        deleteItem(target, domparent){
            domparent.removeChild(target);
        }
        }

        function addtodoEvent(){
            const addItemTxt =
            document.querySelector(".add-item").value;
            // 値を入力していない時は処理を終了
            if(addItemTxt = ""){
                alert("値を入力してください");
                return
            }
            // フォームの値をリセット
            document.querySelector(".add-item").value = "";
            // インスタンス化
            const totolist = new TodoList();
            totoList.addItem(addItemTxt);
        }

        // $("main").fadeIn(1000);
        
        // //1.Save クリックイベント
        // $("#save").on("click",function(){
        //     const v = $("#text_area").val();
        //     localStorage.setItem("memo", v);
        //     alert("保存しました");
        // });


        // //2.clear クリックイベント
        // $("#clear").on("click",function(){
        //     localStorage.removeItem("memo");
        //     alert("削除しました");
        //     $("#text_area").val("")
        // });



        // //3.ページ読み込み：保存データ取得表示
        // if(localStorage.getItem("memo")){
        //     const v = localStorage.getItem("memo");
        //     $("#text_area").val(v);
        // }



        //ロード時に表示
        //※こんなこともできる例
    </script>
</body>

</html>